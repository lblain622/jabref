


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > EditorMenus</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.jabref.gui.fieldeditors.contextmenu</a>
</div>

<h1>Coverage Summary for Class: EditorMenus (org.jabref.gui.fieldeditors.contextmenu)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">EditorMenus</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/27)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package org.jabref.gui.fieldeditors.contextmenu;
&nbsp;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.List;
&nbsp;import java.util.function.Supplier;
&nbsp;
&nbsp;import javafx.scene.control.MenuItem;
&nbsp;import javafx.scene.control.SeparatorMenuItem;
&nbsp;import javafx.scene.control.TextField;
&nbsp;import javafx.scene.control.TextInputControl;
&nbsp;
&nbsp;import org.jabref.gui.ClipBoardManager;
&nbsp;import org.jabref.gui.DialogService;
&nbsp;import org.jabref.gui.actions.ActionFactory;
&nbsp;import org.jabref.gui.actions.StandardActions;
&nbsp;import org.jabref.gui.edit.CopyDoiUrlAction;
&nbsp;import org.jabref.logic.formatter.bibtexfields.CleanupUrlFormatter;
&nbsp;import org.jabref.logic.formatter.bibtexfields.NormalizeNamesFormatter;
&nbsp;import org.jabref.logic.l10n.Localization;
&nbsp;import org.jabref.model.strings.StringUtil;
&nbsp;
&nbsp;import com.airhacks.afterburner.injection.Injector;
&nbsp;import com.tobiasdiez.easybind.EasyBind;
&nbsp;
&nbsp;/**
&nbsp; * Provides context menus for the text fields of the entry editor. Note that we use {@link Supplier} to prevent an early
&nbsp; * instantiation of the menus. Therefore, they are attached to each text field but instantiation happens on the first
&nbsp; * right-click of the user in that field. The late instantiation is done by {@link
&nbsp; * org.jabref.gui.fieldeditors.EditorTextArea#initContextMenu(java.util.function.Supplier, org.jabref.gui.keyboard.KeyBindingRepository) EditorTextArea#initContextMenu}.
&nbsp; */
<b class="nc">&nbsp;public class EditorMenus {</b>
&nbsp;
&nbsp;    /**
&nbsp;     * The default context menu with a specific menu for normalizing person names regarding to BibTex rules.
&nbsp;     *
&nbsp;     * @param textInput text-input-control that this menu will be connected to
&nbsp;     * @return menu containing items of the default menu and an item for normalizing person names
&nbsp;     */
&nbsp;    public static Supplier&lt;List&lt;MenuItem&gt;&gt; getNameMenu(final TextInputControl textInput) {
<b class="nc">&nbsp;        return () -&gt; {</b>
<b class="nc">&nbsp;            MenuItem normalizeNames = new MenuItem(Localization.lang(&quot;Normalize to BibTeX name format&quot;));</b>
<b class="nc">&nbsp;            EasyBind.subscribe(textInput.textProperty(), value -&gt; normalizeNames.setDisable(StringUtil.isNullOrEmpty(value)));</b>
<b class="nc">&nbsp;            normalizeNames.setOnAction(event -&gt; textInput.setText(new NormalizeNamesFormatter().format(textInput.getText())));</b>
<b class="nc">&nbsp;            List&lt;MenuItem&gt; menuItems = new ArrayList&lt;&gt;(6);</b>
<b class="nc">&nbsp;            menuItems.add(normalizeNames);</b>
<b class="nc">&nbsp;            menuItems.addAll(new DefaultMenu(textInput).get());</b>
<b class="nc">&nbsp;            return menuItems;</b>
&nbsp;        };
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * The default context menu with a specific menu copying a DOI/ DOI URL.
&nbsp;     *
&nbsp;     * @param textField text-field that this menu will be connected to
&nbsp;     * @return menu containing items of the default menu and an item for copying a DOI/DOI URL
&nbsp;     */
&nbsp;    public static Supplier&lt;List&lt;MenuItem&gt;&gt; getDOIMenu(TextField textField, DialogService dialogService) {
<b class="nc">&nbsp;        return () -&gt; {</b>
<b class="nc">&nbsp;            ActionFactory factory = new ActionFactory();</b>
<b class="nc">&nbsp;            ClipBoardManager clipBoardManager = Injector.instantiateModelOrService(ClipBoardManager.class);</b>
<b class="nc">&nbsp;            MenuItem copyDoiMenuItem = factory.createMenuItem(StandardActions.COPY_DOI, new CopyDoiUrlAction(textField, StandardActions.COPY_DOI, dialogService, clipBoardManager));</b>
<b class="nc">&nbsp;            MenuItem copyDoiUrlMenuItem = factory.createMenuItem(StandardActions.COPY_DOI_URL, new CopyDoiUrlAction(textField, StandardActions.COPY_DOI_URL, dialogService, clipBoardManager));</b>
<b class="nc">&nbsp;            List&lt;MenuItem&gt; menuItems = new ArrayList&lt;&gt;();</b>
<b class="nc">&nbsp;            menuItems.add(copyDoiMenuItem);</b>
<b class="nc">&nbsp;            menuItems.add(copyDoiUrlMenuItem);</b>
<b class="nc">&nbsp;            menuItems.add(new SeparatorMenuItem());</b>
<b class="nc">&nbsp;            menuItems.addAll(new DefaultMenu(textField).get());</b>
<b class="nc">&nbsp;            return menuItems;</b>
&nbsp;        };
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * The default context menu with a specific menu item to cleanup URL.
&nbsp;     *
&nbsp;     * @param textField text field that this menu will be connected to
&nbsp;     * @return menu containing items of the default menu and an item to cleanup a URL
&nbsp;     */
&nbsp;    public static Supplier&lt;List&lt;MenuItem&gt;&gt; getCleanupUrlMenu(TextField textField) {
<b class="nc">&nbsp;        return () -&gt; {</b>
<b class="nc">&nbsp;            MenuItem cleanupURL = new MenuItem(Localization.lang(&quot;Cleanup URL link&quot;));</b>
<b class="nc">&nbsp;            cleanupURL.setDisable(textField.textProperty().isEmpty().get());</b>
<b class="nc">&nbsp;            cleanupURL.setOnAction(event -&gt; textField.setText(new CleanupUrlFormatter().format(textField.getText())));</b>
<b class="nc">&nbsp;            List&lt;MenuItem&gt; menuItems = new ArrayList&lt;&gt;();</b>
<b class="nc">&nbsp;            menuItems.add(cleanupURL);</b>
<b class="nc">&nbsp;            return menuItems;</b>
&nbsp;        };
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2025-09-29 22:51</div>
</div>
</body>
</html>
